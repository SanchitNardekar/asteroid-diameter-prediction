schema: '2.0'
stages:
  make:
    cmd: poetry run make-dataset --reprocess True
    deps:
    - path: data/Asteroid.csv
      hash: md5
      md5: c956f4ac65dc0b80fa29e39f04c1696b
      size: 170117548
    - path: src/asteroid_diameter_prediction/train/make_dataset.py
      hash: md5
      md5: 7e30616e8225d1d21fae549fb3293714
      size: 3605
    params:
      params.yaml:
        make.vif_threshold: 10
    outs:
    - path: data/Asteroid_processed.csv
      hash: md5
      md5: 7919429ab2a01feb1151a71203621e56
      size: 13711349
  enrich:
    cmd: poetry run enrich-features --reprocess True
    deps:
    - path: data/Asteroid_processed.csv
      hash: md5
      md5: 7919429ab2a01feb1151a71203621e56
      size: 13711349
    - path: src/asteroid_diameter_prediction/train/enrich_features.py
      hash: md5
      md5: 961af455b17d34ba99d1fcfb5c0b21a2
      size: 1687
    params:
      params.yaml:
        enrich.log_features: true
    outs:
    - path: data/Asteroid_enriched.csv
      hash: md5
      md5: 8177442a1fb0aa704ea6ec576975a7e1
      size: 33804320
  train:
    cmd: poetry run train-model
    deps:
    - path: data/Asteroid_enriched.csv
      hash: md5
      md5: 8177442a1fb0aa704ea6ec576975a7e1
      size: 33804320
    - path: src/asteroid_diameter_prediction/train/train_model.py
      hash: md5
      md5: 4682fde217c33a4cca1961a9a216e25a
      size: 3554
    params:
      params.yaml:
        train.seed: 42
        train.split: 0.2
    outs:
    - path: models/diameter_prediction_model.joblib
      hash: md5
      md5: a0a8a592d503403d8a20fa565cd83e2d
      size: 1304
