schema: '2.0'
stages:
  make:
    cmd: poetry run make-dataset --reprocess True
    deps:
    - path: data/Asteroid.csv
      hash: md5
      md5: c956f4ac65dc0b80fa29e39f04c1696b
      size: 170117548
    - path: src/asteroid_diameter_prediction/train/make_dataset.py
      hash: md5
      md5: 7e30616e8225d1d21fae549fb3293714
      size: 3605
    params:
      params.yaml:
        make.vif_threshold: 5
    outs:
    - path: data/Asteroid_processed.csv
      hash: md5
      md5: 2f210b2f721ea5a014c031d9531960e4
      size: 12469304
  enrich:
    cmd: poetry run enrich-features --reprocess True
    deps:
    - path: data/Asteroid_processed.csv
      hash: md5
      md5: 2f210b2f721ea5a014c031d9531960e4
      size: 12469304
    - path: src/asteroid_diameter_prediction/train/enrich_features.py
      hash: md5
      md5: e895d68abfbce44c136742a1b40289f7
      size: 1674
    params:
      params.yaml:
        enrich.log_features: true
    outs:
    - path: data/Asteroid_enriched.csv
      hash: md5
      md5: 0df38bb670feeb01cb0dde2c98829374
      size: 28444248
  train:
    cmd: poetry run train-model
    deps:
    - path: data/Asteroid_enriched.csv
      hash: md5
      md5: 0df38bb670feeb01cb0dde2c98829374
      size: 28444248
    - path: src/asteroid_diameter_prediction/train/train_model.py
      hash: md5
      md5: c5cc961d2ff3ef30d6f964a363018419
      size: 2938
    params:
      params.yaml:
        train.seed: 42
        train.split: 0.2
    outs:
    - path: models/diameter_prediction_model.joblib
      hash: md5
      md5: 707c991efc5da2d913acea1f1cf9cb06
      size: 809
